{"version":3,"file":"static/js/939.5e16903f.chunk.js","mappings":"6NAMMA,EAAWC,EAAAA,EAAAA,IAAW,CAC1BC,MAAO,QACPC,QAAS,OACTC,WAAY,OACZC,YAAa,SAGTC,EAAaL,EAAAA,EAAAA,IAAW,CAC5BE,QAAS,SAGLI,EAAYN,EAAAA,EAAAA,IAAW,CAC3BE,QAAS,OACTK,cAAe,SACfC,UAAW,UAGPC,EAAmBT,EAAAA,EAAAA,EAAS,CAChCU,WAAY,MAGRC,EAAeF,EAAiBG,cAAc,MAE9CC,EAAYb,EAAAA,EAAAA,GAAU,CAC1Bc,UAAW,OACXZ,QAAS,OACTa,QAAS,EACTC,UAAW,SAGYhB,EAAAA,EAAAA,QAAe,CACtCiB,UAAW,OACXT,UAAW,OACXP,MAAO,OACPiB,OAAQ,iCAGelB,EAAAA,EAAAA,GAAU,CACjCC,MAAO,gBAGM,SAASkB,IACtB,OAA8BC,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA6BF,EAAAA,EAAAA,UAAS,IAAtC,eAAOG,EAAP,KAAeC,EAAf,KAEIC,GAASC,EAAAA,EAAAA,MAkBb,OAhBAC,EAAAA,EAAAA,YAAU,WACR,IAAIC,EAAkB,IAAIC,gBAY1B,OAXAC,EAAAA,EAAAA,YAAA,gBACwBL,EAAOM,SAAWH,GACvCI,MAAK,SAACC,GACLX,EAASW,GACTT,EACES,EAASV,OAAOW,KAAI,SAACC,GAAD,OAClB,SAACxB,EAAD,UAAgCwB,EAAMC,MAAnBD,EAAMC,KADP,IAIvB,IAEI,kBAAMR,EAAgBS,OAAtB,CACR,GAAE,IAGDhB,IACE,4BACE,8BACE,UAAChB,EAAD,YACE,SAACN,EAAD,CACEuC,IACE,uCAAyCjB,EAAUkB,eAGvD,UAACjC,EAAD,YACE,wBAAKe,EAAUmB,SACf,UAAC/B,EAAD,0BACwC,GAAzBY,EAAUoB,aADzB,QAGA,sCACA,SAAChC,EAAD,UAAmBY,EAAUqB,YAC7B,oCACA,SAAC7B,EAAD,UAAYU,aAIlB,SAAC,KAAD,MAIP,C,mBC/FD,IAAMoB,EAAM,mCAgBNb,EAAM,CACVc,YAfkB,SAACC,EAAQjB,GAAiC,IAAhBkB,EAAe,uDAAP,GACpD,MAAiB,KAAVA,EACHC,MAAM,gCAAD,OAAiCF,EAAjC,oBAAmDF,GAAO,CAC7DK,OAAQpB,EAAgBoB,SACvBhB,MAAK,SAAAC,GACN,OAAOA,EAASgB,MACjB,IACDF,MAAM,gCAAD,OAAiCF,EAAjC,oBAAmDF,EAAnD,kBAAgEG,GAAS,CAC5EE,OAAQpB,EAAgBoB,SACvBhB,MAAK,SAAAC,GACN,OAAOA,EAASgB,MACjB,GACN,GAMD,K","sources":["components/MovieDetailsPage.js","services/api.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Outlet, useParams, Link } from \"react-router-dom\";\r\nimport ErrorBoundary from \"./ErrorBoundary\";\r\nimport api from \"../services/api\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst FancyImg = styled.img({\r\n  width: \"400px\",\r\n  display: \"flex\",\r\n  marginLeft: \"20px\",\r\n  marginRight: \"20px\",\r\n});\r\n\r\nconst FancyMovie = styled.div({\r\n  display: \"flex\",\r\n});\r\n\r\nconst FancyData = styled.div({\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  textAlign: \"start\",\r\n});\r\n\r\nconst FancyDescription = styled.p({\r\n  fontWeight: 500,\r\n});\r\n\r\nconst FancyElement = FancyDescription.withComponent(\"li\");\r\n\r\nconst FancyList = styled.ul({\r\n  listStyle: \"none\",\r\n  display: \"flex\",\r\n  padding: 0,\r\n  columnGap: \"15px\",\r\n});\r\n\r\nconst FancyInformation = styled.section({\r\n  marginTop: \"10px\",\r\n  textAlign: \"left\",\r\n  width: \"100%\",\r\n  border: \"2px solid rgb(219, 215, 215)\",\r\n});\r\n\r\nconst FancyInfoElement = styled.li({\r\n  width: \"max-content\",\r\n});\r\n\r\nexport default function MovieDetailsPage() {\r\n  const [movieInfo, setMovie] = useState(null);\r\n  const [genres, saveGenres] = useState([]);\r\n\r\n  let params = useParams();\r\n\r\n  useEffect(() => {\r\n    let abortController = new AbortController();\r\n    api\r\n      .fetchMovies(`movie/${params.movieId}`, abortController)\r\n      .then((response) => {\r\n        setMovie(response);\r\n        saveGenres(\r\n          response.genres.map((genre) => (\r\n            <FancyElement key={genre.name}>{genre.name}</FancyElement>\r\n          ))\r\n        );\r\n      });\r\n\r\n    return () => abortController.abort();\r\n  }, []);\r\n\r\n  return (\r\n    movieInfo && (\r\n      <div>\r\n        <section>\r\n          <FancyMovie>\r\n            <FancyImg\r\n              src={\r\n                \"https://image.tmdb.org/t/p/original/\" + movieInfo.poster_path\r\n              }\r\n            ></FancyImg>\r\n            <FancyData>\r\n              <h2>{movieInfo.title}</h2>\r\n              <FancyDescription>\r\n                User score: {movieInfo.vote_average * 10}%\r\n              </FancyDescription>\r\n              <h3>Overview</h3>\r\n              <FancyDescription>{movieInfo.overview}</FancyDescription>\r\n              <h3>Genres</h3>\r\n              <FancyList>{genres}</FancyList>\r\n            </FancyData>\r\n          </FancyMovie>\r\n        </section>\r\n        <Outlet />\r\n      </div>\r\n    )\r\n  );\r\n}\r\n","const KEY = 'b8d87910aac56b00d09e566d900045a1';\r\n\r\nconst fetchMovies = (ending, abortController, query = '') => {\r\n  return query === ''\r\n    ? fetch(`https://api.themoviedb.org/3/${ending}?api_key=${KEY}`, {\r\n        signal: abortController.signal,\r\n      }).then(response => {\r\n        return response.json();\r\n      })\r\n    : fetch(`https://api.themoviedb.org/3/${ending}?api_key=${KEY}&query=${query}`, {\r\n        signal: abortController.signal,\r\n      }).then(response => {\r\n        return response.json();\r\n      });\r\n};\r\n\r\nconst api = {\r\n  fetchMovies,\r\n};\r\n\r\nexport default api;\r\n"],"names":["FancyImg","styled","width","display","marginLeft","marginRight","FancyMovie","FancyData","flexDirection","textAlign","FancyDescription","fontWeight","FancyElement","withComponent","FancyList","listStyle","padding","columnGap","marginTop","border","MovieDetailsPage","useState","movieInfo","setMovie","genres","saveGenres","params","useParams","useEffect","abortController","AbortController","api","movieId","then","response","map","genre","name","abort","src","poster_path","title","vote_average","overview","KEY","fetchMovies","ending","query","fetch","signal","json"],"sourceRoot":""}